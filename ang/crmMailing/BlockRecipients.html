<div ng-controller="EditRecipCtrl" class="crm-mailing-recipients-row">
  <input
    type="hidden"
    crm-mailing-recipients
    ng-model="mailing.recipients"
    crm-mandatory-groups="crmMailingConst.groupNames | filter:{is_hidden:1}"
    crm-ui-id="{{crmMailingBlockRecipients.id}}"
    name="{{crmMailingBlockRecipients.name}}"
    ng-required="true" />
    <a crm-icon="fa-wrench" ng-click="editOptions(mailing)" class="crm-hover-button" title="{{ts('Edit Recipient Options')}}"></a>
    <div>
      <button ng-click="rebuildRecipients()" class="ng-binding crm-button" title="{{ts('Preview a List of Recipients')}}">{{getRecipientsEstimate()}}</button>
      <a ng-click="previewRecipients()" class="crm-hover-button" title="{{ts('Click to refresh recipient count')}}">
        <span class="{{((outdated || recipient == 0) ? 'crmMailing-outdated-count' : 'crmMailing-latest-count')}}">
          {{getRecipientCount()}}
        </span>
      </a>
    </div>
</div>
